#### [779. 第K个语法符号](https://leetcode.cn/problems/k-th-symbol-in-grammar/)

我们构建了一个包含 `n` 行( **索引从 1 开始** )的表。首先在第一行我们写上一个 `0`。接下来的每一行，将前一行中的`0`替换为`01`，`1`替换为`10`。

- 例如，对于 `n = 3` ，第 `1` 行是 `0` ，第 `2` 行是 `01` ，第3行是 `0110` 。

给定行数 `n` 和序数 `k`，返回第 `n` 行中第 `k` 个字符。（ `k` **从索引 1 开始**）
**示例 1:**

```
输入: n = 1, k = 1
输出: 0
解释: 第一行：0
```

**示例 2:**

```
输入: n = 2, k = 1
输出: 0
解释: 
第一行: 0 
第二行: 01
```

**示例 3:**

```
输入: n = 2, k = 2
输出: 1
解释:
第一行: 0
第二行: 01
```

**提示:**

- `1 <= n <= 30`
- `1 <= k <= 2n - 1`

**题解思路**

首先找规律

```c++
0
01
0110
01101001
01101001 10010110
01101001 10010110 1001011001101001
```

可以看出前一半的数字与上一层数字相同，对于求n层的k位置的值，可以先去求出中间的索引值2<sup>n-2</sup>，则用`k`与其比较

- 如果小于等于其，则说明`n`层`k`位置的值就是上一层的对应`k`位置的值，由于题目要求索引从`1`开始，所以是小于等于

- 如果大于其，则说明`n`层`k`位置的值就是本层后一半相对位置的相反值，对`1`或者`0`取反可以用异或`1`操作，`1 ^ 1 = 0 、 0 ^ 1 = 1`

  ```c++
  class Solution {
  public:
      // 递归三步
      int kthGrammar(int n, int k) {
          if (n == 1){
              return 0;
          }
          int mid = pow(2, n - 2);
          if(k <= mid){
              return kthGrammar(n - 1, k);
          }
          return 1 ^ kthGrammar(n, k - mid);
      }
  };
  ```

  